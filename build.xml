<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- WARNING: Eclipse auto-generated file.
              Any modifications will be overwritten.
              To include a user specific buildfile here, simply create one in the same
              directory with the processing instruction <?eclipse.ant.import?>
              as the first entry and export the buildfile again. -->

<project basedir="." default="test-reports" name="Number_Test">
    <property environment="env"/>
    <property name="debuglevel" value="source,lines,vars"/>
    <property name="build.dir" value="bin"/>
    <property name="src.dir" value="src"/>
	<property name = "test.dir" value="test" />
	<property name = "full-compile" value = "true" /> 
	
    <path id="Number_Test.classpath">
        <pathelement location="${build.dir}"/>
    </path>
	
	<path id = "classpath.test">
	      <pathelement location = "C:\JUnit\junit-4.10.jar" />
	      <pathelement location = "${test.dir}" />
	      <pathelement location = "${src.dir}" />
	      <path refid = "Number_Test.classpath" />
	   </path>
	
    <target name="init">
        <mkdir dir="${build.dir}"/>
    	<mkdir dir="${test.dir}"/>
    </target>
    
	<target name="clean">
        <delete dir="${build.dir}"/>
		<delete dir="${test.dir}"/>
    </target>
    
    <target name="build" depends="init">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac srcdir="${src.dir}" debug="ON" destdir="${build.dir}" includeantruntime="false" verbose="${full-compile}" >
            <classpath refid="classpath.test"/>
        </javac>
    </target>
	
	<target name = "test" depends = "build">
	      <junit printsummary="yes" haltonerror="yes" haltonfailure="yes">
	         <classpath refid = "classpath.test" />
	      	 <formatter type="plain" usefile="false"/>
	      	 <formatter type="xml"/>
	         <batchtest todir="${test.dir}">
	      		<fileset dir="${src.dir}">
	      	    	<include name="**/Test*.java" />
	      	    </fileset>
	      	 </batchtest>
	      <!--   <test name = "TestJunit" />
	      	 <test name = "TestRunner" /> -->
	      </junit>
	   </target>
	
	<target name="test-reports" depends="test">
		 <mkdir dir="${test.dir}/reports"/>
	    <junitreport todir="${test.dir}">
	        <fileset dir="${test.dir}">
	            <include name="TEST-*.xml" />
	        </fileset>
	        <report todir="${test.dir}/reports" />
	    </junitreport>
	</target>

</project>
